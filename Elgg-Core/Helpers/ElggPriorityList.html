<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class ElggPriorityList</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class ElggPriorityList</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
                <p class="implements">
            Implements interfaces:
            <ul>
                <li>Iterator (internal interface)</li><li>Countable (internal interface)</li>            </ul>
        </p>
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Iterate over elements in a specific priority.</p>
<p class="description"><p>$pl = new ElggPriorityList();  $pl-&gt;add('Element 0');  $pl-&gt;add('Element 10', 10);  $pl-&gt;add('Element -10', -10);</p><p>foreach ($pl as $priority =&gt; $element) { 	var_dump(&quot;$priority =&gt; $element&quot;);  }</p><p>Yields:  -10 =&gt; Element -10 <ol><li>=&gt; Element 0</li><li>0 =&gt; Element 10</li></ol>  Collisions on priority are handled by inserting the element at or as close to the  requested priority as possible:</p><p>$pl = new ElggPriorityList();  $pl-&gt;add('Element 5', 5);  $pl-&gt;add('Colliding element 5', 5);  $pl-&gt;add('Another colliding element 5', 5);</p><p>foreach ($pl as $priority =&gt; $element) { 	var_dump(&quot;$priority =&gt; $element&quot;);  }</p><p>Yields: 	5 =&gt; 'Element 5', 	6 =&gt; 'Colliding element 5', 	7 =&gt; 'Another colliding element 5'</p><p>You can do priority lookups by element:</p><p>$pl = new ElggPriorityList();  $pl-&gt;add('Element 0');  $pl-&gt;add('Element -5', -5);  $pl-&gt;add('Element 10', 10);  $pl-&gt;add('Element -10', -10);</p><p>$priority = $pl-&gt;getPriority('Element -5');</p><p>Or element lookups by priority.  $element = $pl-&gt;getElement(-5);</p><p>To remove elements, pass the element.  $pl-&gt;remove('Element -10');</p><p>To check if an element exists:  $pl-&gt;contains('Element -5');</p><p>To move an element:  $pl-&gt;move('Element -5', -3);</p><p>ElggPriorityList only tracks priority. No checking is done in ElggPriorityList for duplicates or  updating. If you need to track this use objects and an external map:</p><p>function elgg_register_something($id, $display_name, $location, $priority = 500) { 	// $id =&gt; $element. 	static $map = array(); 	static $list;</p><p>if (!$list) { 		$list = new ElggPriorityList(); 	}</p><p>// update if already registered. 	if (isset($map[$id])) { 		$element = $map[$id]; 		// move it first because we have to pass the original element. 		if (!$list-&gt;move($element, $priority)) { 			return false; 		} 		$element-&gt;display_name = $display_name; 		$element-&gt;location = $location; 	} else { 		$element = new stdClass(); 		$element-&gt;display_name = $display_name; 		$element-&gt;location = $location; 		if (!$list-&gt;add($element, $priority)) { 			return false; 		} 		$map[$id] = $element; 	}</p><p>return true;  }</p></p>
		<p class="notes">
			Located in <a class="field" href="_engine---classes---ElggPriorityList.php.html">/engine/classes/ElggPriorityList.php</a> (line <span class="field">95</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
												<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																																				
												<div class="method-definition">
											<span class="method-result">ElggPriorityList</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$elements</span> = <span class="var-default">array()</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#add" title="details" class="method-name">add</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$priority</span> = <span class="var-default">null</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$exact</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#contains" title="details" class="method-name">contains</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#count" title="details" class="method-name">count</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#current" title="details" class="method-name">current</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#getElement" title="details" class="method-name">getElement</a>
											(<span class="var-type">int</span>&nbsp;<span class="var-name">$priority</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#getElements" title="details" class="method-name">getElements</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#getNextPriority" title="details" class="method-name">getNextPriority</a>
											([<span class="var-type">int</span>&nbsp;<span class="var-name">$near</span> = <span class="var-default">0</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#getPriority" title="details" class="method-name">getPriority</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#key" title="details" class="method-name">key</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#move" title="details" class="method-name">move</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$new_priority</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#next" title="details" class="method-name">next</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#remove" title="details" class="method-name">remove</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#rewind" title="details" class="method-name">rewind</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#sort" title="details" class="method-name">sort</a>
											([<span class="var-type">callback</span>&nbsp;<span class="var-name">$callback</span> = <span class="var-default">null</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#valid" title="details" class="method-name">valid</a>
										()
									</div>
								</div>
		</div>
	</div>		

	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">110</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create a new priority list.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">ElggPriorityList</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$elements</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$elements</span><span class="var-description">: An optional array of priorities =&gt; element</span>			</li>
				</ul>
		
			
	</div>
<a name="methodadd" id="add"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">add</span> (line <span class="line-number">133</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds an element to the list.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The priority of the added element.</li>
				<li><span class="field">todo:</span> remove $exact or implement it. Note we use variable name strict below.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			add
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">mixed</span>&nbsp;<span class="var-name">$priority</span> = <span class="var-default">null</span>], [<span class="var-type">bool</span>&nbsp;<span class="var-name">$exact</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$element</span><span class="var-description">: The element to add to the list.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$priority</span><span class="var-description">: Priority to add the element. In priority collisions, the original element                         maintains its priority and the new element is to the next available                         slot, taking into consideration all previously registered elements.                         Negative elements are accepted.</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$exact</span><span class="var-description">: unused</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcontains" id="contains"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">contains</span> (line <span class="line-number">288</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns if the list contains $element.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			contains
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$element</span><span class="var-description">: The element to check.</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$strict</span><span class="var-description">: Use strict checking?</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcount" id="count"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">count</span> (line <span class="line-number">363</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Countable interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Countable::count()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			count
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Countable::count</dt>
					</dl>
			
	</div>
<a name="methodcurrent" id="current"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">current</span> (line <span class="line-number">318</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">PHP Iterator Interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Iterator::current()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			current
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Iterator::current</dt>
					</dl>
			
	</div>
<a name="methodgetElement" id="getElement"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getElement</span> (line <span class="line-number">277</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the element at $priority.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The element or false on fail.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			getElement
		</span>
					(<span class="var-type">int</span>&nbsp;<span class="var-name">$priority</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$priority</span><span class="var-description">: The priority</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetElements" id="getElements"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getElements</span> (line <span class="line-number">196</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the elements</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			getElements
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetNextPriority" id="getNextPriority"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getNextPriority</span> (line <span class="line-number">248</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the next priority available.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			getNextPriority
		</span>
					([<span class="var-type">int</span>&nbsp;<span class="var-name">$near</span> = <span class="var-default">0</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$near</span><span class="var-description">: Make the priority as close to $near as possible.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetPriority" id="getPriority"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getPriority</span> (line <span class="line-number">267</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the priority of an element if it exists in the list.</p>
	<ul class="tags">
				<li><span class="field">return:</span> False if the element doesn't exists, the priority if it does.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			getPriority
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$element</span><span class="var-description">: The element to check for.</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$strict</span><span class="var-description">: Use strict checking?</span>			</li>
				</ul>
		
			
	</div>
<a name="methodkey" id="key"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">key</span> (line <span class="line-number">329</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">PHP Iterator Interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Iterator::key()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			key
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Iterator::key</dt>
					</dl>
			
	</div>
<a name="methodmove" id="move"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">move</span> (line <span class="line-number">173</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Move an existing element to a new priority.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			move
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, <span class="var-type">int</span>&nbsp;<span class="var-name">$new_priority</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$element</span><span class="var-description">: The element to move</span>			</li>
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$new_priority</span><span class="var-description">: The new priority for the element</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$strict</span><span class="var-description">: Whether to check the type of the element match</span>			</li>
				</ul>
		
			
	</div>
<a name="methodnext" id="next"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">next</span> (line <span class="line-number">340</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">PHP Iterator Interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Iterator::next()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			next
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Iterator::next</dt>
					</dl>
			
	</div>
<a name="methodremove" id="remove"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">remove</span> (line <span class="line-number">155</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Removes an element from the list.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			remove
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$element</span>, [<span class="var-type">bool</span>&nbsp;<span class="var-name">$strict</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$element</span><span class="var-description">: The element to remove from the list</span>			</li>
					<li>
				<span class="var-type">bool</span>
				<span class="var-name">$strict</span><span class="var-description">: Whether to check the type of the element match</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrewind" id="rewind"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">rewind</span> (line <span class="line-number">307</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">PHP Iterator Interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Iterator::rewind()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			rewind
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Iterator::rewind</dt>
					</dl>
			
	</div>
<a name="methodsort" id="sort"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">sort</span> (line <span class="line-number">214</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sort the elements optionally by a callback function.</p>
<p class="description"><p>If no user function is provided the elements are sorted by priority registered.</p><p>The callback function should accept the array of elements as the first  argument and should return a sorted array.</p><p>This function can be called multiple times.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			sort
		</span>
					([<span class="var-type">callback</span>&nbsp;<span class="var-name">$callback</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">callback</span>
				<span class="var-name">$callback</span><span class="var-description">: The callback for sorting. Numeric sorting is the default.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodvalid" id="valid"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">valid</span> (line <span class="line-number">351</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">PHP Iterator Interface</p>
	<ul class="tags">
				<li><span class="field">see:</span> Iterator::valid()</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			valid
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt>Iterator::valid</dt>
					</dl>
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 14 Apr 2015 14:01:59 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</p>
	</div></body>
</html>